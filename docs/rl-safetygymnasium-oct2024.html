

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>rl-safetygymnasium-oct2024 &mdash; TrojAI 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
        <script src="static/jquery.js"></script>
        <script src="static/underscore.js"></script>
        <script src="static/doctools.js"></script>
        <script src="static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-161627994-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161627994-1');
</script>


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> TrojAI
          

          
            
            <img src="static/trojai_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">What Is TrojAI</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="accounts.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="submission.html">Submission</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TrojAI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <header class="nist-header" id="nist-header" role="banner">

  <a href="https://www.nist.gov/" title="National Institute of Standards and Technology" class="nist-header__logo-link" rel="home">
    <svg aria-hidden="true" class="nist-header__logo-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="32" viewBox="0 0 24 32">
      <path d="M20.911 5.375l-9.482 9.482 9.482 9.482c0.446 0.446 0.446 1.161 0 1.607l-2.964 2.964c-0.446 0.446-1.161 0.446-1.607 0l-13.25-13.25c-0.446-0.446-0.446-1.161 0-1.607l13.25-13.25c0.446-0.446 1.161-0.446 1.607 0l2.964 2.964c0.446 0.446 0.446 1.161 0 1.607z"></path>
    </svg>
    <svg class="nist-header__logo-image" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="-237 385.7 109.7 29.3">
      <title>National Institute of Standards and Technology</title>
      <g>
        <path class="st0" d="M-231,415h-6v-23.1c0,0,0-4.4,4.4-5.8c4-1.3,6.6,1.3,6.6,1.3l19.7,21.3c1,0.6,1.4,0,1.4-0.6v-22h6.1V409
          c0,1.9-1.6,4.4-4,5.3c-2.4,0.9-4.9,0.9-7.9-1.7l-18.5-20c-0.5-0.5-1.8-0.6-1.8,0.4L-231,415L-231,415z"/>
        <path class="st0" d="M-195,386.1h6.1v20.7c0,2.2,1.9,2.2,3.6,2.2h26.8c1.1,0,2.4-1.3,2.4-2.7c0-1.4-1.3-2.8-2.5-2.8H-176
          c-3,0.1-9.2-2.7-9.2-8.5c0-7.1,5.9-8.8,8.6-9h49.4v6.1h-12.3V415h-6v-22.9h-30.2c-2.9-0.2-4.9,4.7-0.2,5.4h18.6
          c2.8,0,7.4,2.4,7.5,8.4c0,6.1-3.6,9-7.5,9H-185c-4.5,0-6.2-1.1-7.8-2.5c-1.5-1.5-1.7-2.3-2.2-5.3L-195,386.1
          C-194.9,386.1-195,386.1-195,386.1z"/>
      </g>
    </svg>
  </a>

	</header>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rl-safetygymnasium-oct2024">
<span id="id1"></span><h1>rl-safetygymnasium-oct2024<a class="headerlink" href="#rl-safetygymnasium-oct2024" title="Permalink to this headline">¶</a></h1>
<div class="section" id="download-data-splits">
<h2>Download <a class="reference internal" href="overview.html#data-splits"><span class="std std-ref">Data Splits</span></a><a class="headerlink" href="#download-data-splits" title="Permalink to this headline">¶</a></h2>
<div class="section" id="train-data">
<h3>Train Data<a class="headerlink" href="#train-data" title="Permalink to this headline">¶</a></h3>
<p>Official Data Record: <em>pending</em></p>
</div>
</div>
<div class="section" id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p>This dataset contains deep reinforcement learning agents.</p>
<div class="section" id="trojai-safety-gymnasiun-model-generation">
<h3>TrojAI Safety Gymnasiun Model Generation<a class="headerlink" href="#trojai-safety-gymnasiun-model-generation" title="Permalink to this headline">¶</a></h3>
<p>Here we provide an RL environment built on <a class="reference external" href="https://github.com/PKU-Alignment/safety-gymnasium">Safety Gymnasium</a> that allows for policy, a training algorithm (multitask OPAC^2), and tools to configure and orchestrate training runs. The <code class="docutils literal notranslate"><span class="pre">gentle</span></code> folder contains source code for the RL algorithm and tools to build and wrap Safety Gymnasium. Our algorithm specifically is located in gentle &gt; rl &gt; opac2_multitask.py</p>
</div>
<div class="section" id="the-safety-gymnasium-environment">
<h3>The Safety Gymnasium Environment<a class="headerlink" href="#the-safety-gymnasium-environment" title="Permalink to this headline">¶</a></h3>
<p>In this environment, an agent and two targets are randomly placed in a scene. The agent’s goal is to reach the green target without touching the red target.</p>
<p>The scene also contains a number of small entities (teal cubes) that wander aimlessly. These may obstruct the agent slightly but there is no penalty for interacting with them.</p>
<p>The agent’s observations come from a multi-channel planar lidar. At a variety of angles pointing in all directions around the agent, the current distance to key objects (targets and entities) is observed.</p>
<p>50% of the models have learned a trigger that changes their performance goal.</p>
</div>
<div class="section" id="model-types">
<h3>Model types<a class="headerlink" href="#model-types" title="Permalink to this headline">¶</a></h3>
<p>The model architecture has two basic parameters:</p>
<ol class="arabic simple">
<li><p>Network Depth (number of hidden layers)</p></li>
<li><p>Network Width</p></li>
</ol>
<p>The following values of these parameters may be selected.</p>
<p>Network Depth:</p>
<ul class="simple">
<li><p>“small”  : two hidden layers (1 NxN transform)</p></li>
<li><p>“default”: three hidden layers (2 NxN transforms)</p></li>
<li><p>“large”  : five hidden layers (4 NxN transforms)</p></li>
</ul>
<p>Network Width:</p>
<ul class="simple">
<li><p>“small”  : each hidden layer has width 181</p></li>
<li><p>“default”: each hidden layer has width 256</p></li>
<li><p>“large”  : each hidden layer has width 362</p></li>
</ul>
<p>Depth and width are designed such that scaling either independently will result in similar parameter counts in the hidden layers:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 21%" />
<col style="width: 25%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>DEPTH (layers):</p></th>
<th class="head"><p>small (2)</p></th>
<th class="head"><p>default (3)</p></th>
<th class="head"><p>large (5)</p></th>
</tr>
<tr class="row-even"><th class="head"><p>WIDTH (size):</p></th>
<th class="head"></th>
<th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>small (181)</p></td>
<td><p>33K</p></td>
<td><p>65K</p></td>
<td><p>131K</p></td>
</tr>
<tr class="row-even"><td><p>default (256)</p></td>
<td><p>65K</p></td>
<td><p>131K</p></td>
<td><p>262K</p></td>
</tr>
<tr class="row-odd"><td><p>large (362)</p></td>
<td><p>131K</p></td>
<td><p>262K</p></td>
<td><p>524K</p></td>
</tr>
</tbody>
</table>
<p>See <a class="reference external" href="https://github.com/usnistgov/trojai-example">https://github.com/usnistgov/trojai-example</a> for how to load and inference an example.</p>
<p>The Evaluation Server (ES) evaluates submissions against a sequestered dataset of 80 models drawn from an identical generating distribution. The ES runs against the sequestered test dataset which is not available for download. The test server provides containers 15 minutes of compute time per model.</p>
<p>The Smoke Test Server (STS) only runs against the first 1 clean and 1 triggered models from the training dataset:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;id-00000000&#39;</span><span class="p">,</span> <span class="s1">&#39;id-00000040&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="experimental-design">
<h2>Experimental Design<a class="headerlink" href="#experimental-design" title="Permalink to this headline">¶</a></h2>
<p>Each model architecture implementation is drawn directly from the TrojAI_RL repository.</p>
<p>The network architecture is selected from all combinations of ‘small’ and ‘default’ for width and depth.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NETWORK_DEPTH</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;small&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NETWORK_WITDH</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;small&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>In addition, a number of distractor entities is also selected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NUM_ENTITIES</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="data-structure">
<h2>Data Structure<a class="headerlink" href="#data-structure" title="Permalink to this headline">¶</a></h2>
<p>The archive contains a set of folders named <code class="docutils literal notranslate"><span class="pre">basicfc</span></code> and <code class="docutils literal notranslate"><span class="pre">rlstarter</span></code> representing the different architectures. These are further split into <code class="docutils literal notranslate"><span class="pre">clean</span></code> and <code class="docutils literal notranslate"><span class="pre">triggered</span></code>, which split into folders for each model. Each folder contains the trained AI model file in the PyTorch format named <code class="docutils literal notranslate"><span class="pre">model.pt</span></code> and the ground truth of whether the model was clean/triggered, <code class="docutils literal notranslate"><span class="pre">ground_truth.json</span></code>.</p>
<p>See <a class="reference external" href="https://pages.nist.gov/trojai/docs/data.html">https://pages.nist.gov/trojai/docs/data.html</a> for additional information about the TrojAI datasets.</p>
<p>See <a class="reference external" href="https://github.com/usnistgov/trojai-example">https://github.com/usnistgov/trojai-example</a> for how to load and inference example text.</p>
<p>Only a subset of these files are available on the test server during evaluation to avoid giving away the answer to whether a model is poisoned or not. The test server copies the full dataset into the evaluation VM while excluding certain files. The list of excluded files can be found at <a class="reference external" href="https://github.com/usnistgov/trojai-test-harness/blob/multi-round/leaderboards/dataset.py#L30">https://github.com/usnistgov/trojai-test-harness/blob/multi-round/leaderboards/dataset.py#L30</a>.</p>
<p>Per-Model File List</p>
<ul class="simple">
<li><p>Folder: <code class="docutils literal notranslate"><span class="pre">00000000/</span></code>
Short description: This folder represents a single trained deep reinforcment learning agent.</p>
<ol class="arabic simple">
<li><p>File: <code class="docutils literal notranslate"><span class="pre">ground_truth.csv</span></code>:
Short description: csv containing whether or not a given agent has the triggered embedded or not. There are two boolean keys, <cite>clean</cite> and <cite>triggered</cite> to indicate how the agent was trained.</p></li>
<li><p>File: <code class="docutils literal notranslate"><span class="pre">model.pt</span></code>
Short description: This file is the trained DRL model file in PyTorch format.</p></li>
</ol>
</li>
<li><p>File: <code class="docutils literal notranslate"><span class="pre">DATA_LICENCE.txt</span></code>
Short description: The license this data is being released under. Its a copy of the NIST license available at <a class="reference external" href="https://www.nist.gov/open/license">https://www.nist.gov/open/license</a></p></li>
</ul>
</div>
<div class="section" id="data-revisions">
<h2>Data Revisions<a class="headerlink" href="#data-revisions" title="Permalink to this headline">¶</a></h2>
<p>Revision 1 contains 40 clean and 40 poisoned RL agents.</p>
</div>
</div>


           </div>
           
          </div>
          <footer class="nist-footer">
  <div class="nist-footer__inner">
    <div class="nist-footer__menu" role="navigation">
      <ul>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy-policy">Privacy Statement</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy-policy#privpolicy">Privacy Policy</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy-policy#secnot">Security Notice</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy-policy#accesstate">Accessibility Statement</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy">NIST Privacy Program</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/no-fear-act-policy">No Fear Act Policy</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/disclaimer">Disclaimer</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/foia">FOIA</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/environmental-policy-statement">Environmental Policy Statement</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.nist.gov/privacy-policy#cookie">Cookie Disclaimer</a>
        </li>
        <li class="nist-footer__menu-item ">
          <a href="https://www.nist.gov/summary-report-scientific-integrity">Scientific Integrity Summary</a>
        </li>
        <li class="nist-footer__menu-item ">
          <a href="https://www.nist.gov/nist-information-quality-standards">NIST Information Quality Standards</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://business.usa.gov/">Business USA</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.commerce.gov/">Commerce.gov</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="https://www.healthcare.gov/">Healthcare.gov</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="http://www.science.gov/">Science.gov</a>
        </li>
        <li class="nist-footer__menu-item">
          <a href="http://www.usa.gov/">USA.gov</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="nist-footer__logo">
    <a href="https://www.nist.gov/" title="National Institute of Standards and Technology" class="nist-footer__logo-link" rel="home">
      <img src="https://pages.nist.gov/nist-header-footer/images/nist_logo_centered_rev.svg" alt="National Institute of Standards and Technology logo" />
    </a>
  </div>
  <script async type="text/javascript" id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=NIST&subagency=github&pua=UA-42404149-54&yt=true&exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c">
</script>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>